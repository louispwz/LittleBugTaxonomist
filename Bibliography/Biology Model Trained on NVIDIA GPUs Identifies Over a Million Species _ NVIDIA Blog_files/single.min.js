(()=>{var l=jQuery,u=n=>{let e=n.closest("li");if(e.classList.contains("focus")){e.classList.remove("focus");let t=e.querySelector(".icon");t&&(t.classList.add("icon-triangle-right"),t.classList.remove("icon-triangle-down"))}else{e.classList.add("focus");let t=e.querySelector(".icon");t&&(t.classList.add("icon-triangle-down"),t.classList.remove("icon-triangle-right"))}};function p(){let n=window.innerWidth,e=document.getElementById("secondary-menu");if(n<743){let t=e.querySelectorAll("li"),s=Array.from(t).reduce((c,i)=>c+i.offsetWidth,0)-parseInt(n,10);if(s>0){let c=Math.floor(s/2);e.scrollLeft=Math.abs(c)}}}function f(){let n=l(".secondary-menu-slot");l(".secondary-menu-slot-wrapper").waypoint({handler(t){t==="down"?n.addClass("sticky-active"):n.removeClass("sticky-active")}}),l(window).resize(l.throttle(100,()=>{n.removeClass("sticky-active"),Waypoint.refreshAll()}))}function m(){document.getElementById("site-navigation").querySelectorAll(".menu-item-has-children > a").forEach(t=>{let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("class","icon"),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("width","16"),o.setAttribute("height","16"),o.setAttribute("viewBox","0 0 24 24"),o.innerHTML='<path d="M7 10l5 5 5-5z" fill="white"></path><path d="M0 0h24v24H0z" fill="none"></path>',t.appendChild(o),o.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),u(t)}),t.classList.contains("no-destination")&&t.addEventListener("click",s=>{s.preventDefault(),u(t)})})}var L=jQuery;function h(){let n=L(".nvidia-sharing-links-list");if(n.length>0){let e=new Waypoint.Sticky({element:n[0],offset:50})}}function d(){let n=document.querySelectorAll(".for-wechat"),e=document.querySelectorAll(".for-wechat .qr-container .qr-container-title span");window.matchMedia("(max-width: 1280px)").matches?n.forEach(i=>{i.addEventListener("click",t),i.addEventListener("mouseenter",t),i.addEventListener("mouseleave",t)}):n.forEach(i=>{i.addEventListener("click",c),i.addEventListener("mouseenter",o),i.addEventListener("mouseleave",s)}),e.forEach(i=>{i.addEventListener("click",()=>{n.forEach(r=>r.click())})});function t(i){let r=this.querySelector(".qr-container");if(r){let v=r.style.display==="block";r.style.display=v?"none":"block"}i.preventDefault(),i.stopPropagation()}function o(i){let r=this.querySelector(".qr-container");r&&(r.style.display="block"),i.preventDefault(),i.stopPropagation()}function s(i){let r=this.querySelector(".qr-container");r&&(r.style.display="none"),i.preventDefault(),i.stopPropagation()}function c(i){i.preventDefault(),i.stopPropagation()}}document.addEventListener("DOMContentLoaded",()=>{p(),f(),m(),h(),w(),k(),S()});var w=()=>{let n=document.querySelectorAll(".js-search-item-link"),e=document.querySelector(".search-item .search-field");n.forEach(t=>{t.addEventListener("click",o=>{o.preventDefault(),document.body.classList.toggle("search-open"),e&&e.focus()})})},k=()=>{document.querySelectorAll("a.no-destination").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault()})})},S=()=>{let n=document.getElementById("cookie_notice_div"),e=n?n.querySelector("#exit"):null;n&&e&&e.addEventListener("click",()=>{n.classList.remove("is-active")})};var E=jQuery;document.addEventListener("DOMContentLoaded",()=>{let n=null;window.addEventListener("resize",E.throttle(100,()=>{document.querySelectorAll(".menu-item.focus").forEach(e=>{e.classList.remove("focus")})})),document.querySelectorAll("video").forEach(e=>{e.addEventListener("play",()=>{e.dataset.userPaused=""}),e.addEventListener("pause",()=>{e._autoPausing||(e.dataset.userPaused="true")})}),window.addEventListener("scroll",()=>{if(!document.body.classList.contains("site-lang-zh-hans")){let e=[...document.querySelectorAll("video")],t=e.filter(s=>b(s)&&s.dataset.userPaused!=="true"),o=t.length>0?t[0]:null;if(o&&o===n&&!o.paused)return;e.forEach(s=>{s!==o&&!s.paused&&(s._autoPausing=!0,s.pause(),setTimeout(()=>{delete s._autoPausing},0))}),o?(o.play(),n=o):n=null}})});var b=n=>{let e=n.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,s=e.top>=0&&e.top<=t||e.bottom>=0&&e.bottom<=t||e.top<=0&&e.bottom>=t,c=e.left>=0&&e.left<=o||e.right>=0&&e.right<=o||e.left<=0&&e.right>=o;return s&&c};var a=jQuery;document.addEventListener("DOMContentLoaded",()=>{d(),g(),y()});a(document).on("yith_infs_added_elem",function(){d(),g(),y()});var y=()=>{a(".entry-content").magnificPopup({delegate:'a[href$=".png"], a[href$=".jpg"], a[href$=".jpeg"], a[href$=".gif"]',type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<span class="nvb4-mfp-error">Image #%curr% could not be loaded.</span>',titleSrc(n){let e=a(n.el);return a(e[0]).find("figcaption").clone()}}})},g=()=>{a(".entry-content").fitVids()};})();
